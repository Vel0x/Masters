\chapter{Conclusions}\label{conclusions}


The main goals of this project were to evaluate the performance of using public transport as the mechanism for mobile air quality monitoring systems, and to evaluate the effectiveness of using common spatial prediction methods to interpolate the results from such a system. This report looked at how to simulate such a model, methods of evaluating the performance of the model, and various interpolation methods for interpolation the data. In terms of evaluating the performance metric we learned some key pieces of information. 

The first and foremost of these is that using the Lothian Bus services in Edinburgh, connecting to open WiFi access points, provides around 50\% of the total readings using a queue size which would be suitable for use with commodity hardware which would be used to build such a sensor. The mean time between these readings being taken and being returned to a central server is approximately seven minutes. This is within acceptable ranges for most applications, however we would hope to have a latency of under a minute for ``real-time'' applications. In terms of air quality measurements there is no definition of ``real-time'' however it is difficult to imagine applications which would require a smaller delay as the variance in the measurements would be greater than any change in value. The results from varying parameters with this algorithm are consistent with what we would expect to see in that having more access points causes the packet delivery rate to go up and the latency to go down. We also showed that increasing the queue size increased the rate of packets being delivered, while also increasing the latency as more packets are stored for longer. 

Adding opportunistic forwarding was an extremely successful approach. The effect of opportunistic forwarding was much greater at smaller queue sizes than at larger queue sizes, where it was still significant. We improved the results over the non-opportunistic method by a factor of 2.6 and 1.4 at queue sizes of 10 and 2,000 respectively. These results were an approximate boost of 20\% of the total number of packets. With regards to the algorithm it was discovered that simulating the opportunistic model with the queues, by inserting received broadcast packets at the correct chronological location based on generation time, was in fact detrimental to the performance of the model. The performance of the model was improved by simply appending the received broadcast packets to the tail end of the queue. Finally we learned that with opportunistic forwarding we require many fewer access points in order to achieve the same performance as the non-opportunistic model, with experimental results showing the need for less than a third of the number when the non-opportunistic forwarding algorithm uses 50 access points. This would be an even lower fraction with higher numbers of access points for the non-opportunistic forwarding algorithm. This requirement implies that we can use this mechanism in smaller cities or towns effectively. 

The simulation was not without flaw however and the results we have are only relative performance metrics. The most important problem with this model was the inability to model all access points within the city. Despite having information about all access points in the city of Edinburgh which are discoverable on buses and open to public access, we were only able to simulate at most 50 of these before the simulation time was too long to realistically consider. The results however show in all cases that increasing the number of access points has a positive effect in terms of packet delivery rates and latency reduction. Due to this we can surmise that in practice this model would achieve much better results than are shown in this report, despite not modelling topological effects.

In terms of boosting the results one of the implications we must consider is that we have data for 145 buses. Lothian Buses have a fleet of over 700 buses~\cite{lothianbusannualreport} and it is potentially the case, however unlikely, that all buses could be equipped with air quality sensors. Increasing the number of buses has an indeterminable effect currently, however it is hypothesised that the increase in the number of buses would increase the number of successful packet deliveries while also reducing the latency, with the potential for packet duplication eventually becoming an issue and detrimental to the results. This area requires further study. An alternative is using the same number of buses, or indeed fewer buses, but changing which buses are used. Currently the buses are limited to just 13 different routes. By changing the buses which we attach sensors to we can increase the area which our measurements cover. Lothian Buses currently offer 70 different routes which would give us a wide area of coverage. However, by having different routes, it is less likely that our buses will encounter each other as they move and as such the opportunistic forwarding may produce inferior results to that which we have shown. Further research into this area is still required.

Looking to our evaluation of simple interpolation algorithms for generating continuous data sets we discovered that reasonable results are generated, however these would be unsuitable for any scientific purpose. Our initial prediction stated that when using algorithms with variable parameters we would likely see these algorithms perform better than other similar algorithms due to the ability to tune the algorithms to the data sets. This prediction turned out to be incorrect with the tunable algorithms performing much worse than the non-tunable ones, using blurry neighbour and bicubic interpolation as an example. It is now clear that in order to get accurate data from interpolating sparse data sets we need much more advanced models such as LUR.

In summary, it has been shown that using Lothian Buses as the mechanism for mobile air quality measurements, uploading to open WiFi access points, with opportunistic forwarding would be a successful endeavour. The packet delivery rate is relatively high with a reasonable latency period. Using simple interpolation algorithms to gain more useful information was less successful, only giving is rough estimates of pollutant levels. Based on this we came to the conclusion that more advanced models are in use for a reason and they should be used on similar data sets to gain useful results. 

